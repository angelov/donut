{% extends 'base.html.twig' %}

{% block body %}

    <h1>Your friends</h1>

    {% for message in app.session.flashBag.get('success') %}

        <div class="alert alert-success">
            <strong>Success!</strong> {{ message }}
        </div>

    {% endfor %}

    {% for message in app.session.flashBag.get('error') %}

        <div class="alert alert-warning">
            <strong>Error!</strong> {{ message }}
        </div>

    {% endfor %}

    <div class="row">
        <div class="col-md-6">

        </div>
        <div class="col-md-6">
            <h1>Received friendship requests</h1>

                {% for request in app.user.receivedFriendshipRequests %}

                    {% set user = request.fromUser %}

                    {% include 'users/partials/user-card.html.twig' %}

                {% else %}

                    <li>0 non-responded friendship requests found.</li>

                {% endfor %}

            <h1>Sent friendship requests</h1>

                {% for request in app.user.sentFriendshipRequests %}

                    {% set user = request.toUser %}

                    {% include 'users/partials/user-card.html.twig' %}

                {% else %}

                    <li>You haven't sent any friendship requests.</li>

                {% endfor %}

        </div>
    </div>

{% endblock %}