services:

    app.feature_contexts.hooks.doctrine:
        class: 'AppBundle\FeatureContexts\DoctrineHookContext'
        arguments: ['@__symfony__.doctrine.orm.entity_manager']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.hooks.redis:
        class: 'AppBundle\FeatureContexts\RedisDatabaseCleanerHookContext'
        arguments: ['@__symfony__.snc_redis.default']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.setup.users:
        class: 'AppBundle\FeatureContexts\Setup\UsersContext'
        arguments: ['@__symfony__.doctrine.orm.entity_manager', '@__symfony__.security.password_encoder', '@app.behat.storage']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.setup.thoughts:
        class: 'AppBundle\FeatureContexts\Setup\ThoughtsContext'
        arguments: ['@__symfony__.doctrine.orm.entity_manager', '@app.behat.storage', '@__symfony__.app.thoughts.thoughts_counter.default']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.setup.communities:
        class: 'AppBundle\FeatureContexts\Setup\CommunitiesContext'
        arguments: ['@__symfony__.doctrine.orm.entity_manager', '@app.behat.storage']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.setup.friendships:
        class: 'AppBundle\FeatureContexts\Setup\FriendshipsContext'
        arguments: ['@app.behat.storage', '@__symfony__.doctrine.orm.entity_manager', '@__symfony__.neo4j.client']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.setup.security:
        class: 'AppBundle\FeatureContexts\Setup\SecurityContext'
        arguments: ['@__symfony__.doctrine.orm.entity_manager', '@__symfony__.session', '@mink.default_session', '@app.behat.storage']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.setup.pagination:
        class: 'AppBundle\FeatureContexts\Setup\PaginationContext'
        arguments: ['@mink.default_session']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.users.registration:
        class: 'AppBundle\FeatureContexts\RegistrationContext'
        arguments: ['@mink.default_session', '@__symfony__.router', '@app.behat.storage']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.users.login:
        class: 'AppBundle\FeatureContexts\LoginContext'
        arguments: ['@mink.default_session', '@__symfony__.router']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.thoughts:
        class: 'AppBundle\FeatureContexts\ThoughtsContext'
        arguments: ['@mink.default_session', '@__symfony__.router', '@app.behat.storage']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.communities.creating:
        class: 'AppBundle\FeatureContexts\CreatingCommunitiesContext'
        arguments: ['@mink.default_session', '@__symfony__.router']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.communities.browsing:
        class: 'AppBundle\FeatureContexts\BrowsingCommunitiesContext'
        arguments: ['@mink.default_session', '@__symfony__.router', '@app.behat.storage']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.communities.viewing:
        class: 'AppBundle\FeatureContexts\ViewingCommunitiesContext'
        arguments: ['@__symfony__.doctrine.orm.entity_manager', '@mink.default_session', '@__symfony__.router', '@app.behat.storage']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.users.viewing_user_profile:
        class: 'AppBundle\FeatureContexts\ViewingUserProfileContext'
        arguments: ['@mink.default_session', '@__symfony__.doctrine.orm.entity_manager', '@__symfony__.router', '@app.behat.storage']
        tags:
            - { name: fob.context_service }

    app.feature_contexts.users.browsing:
        class: 'AppBundle\FeatureContexts\BrowsingUsersContext'
        arguments: ['@mink.default_session', '@__symfony__.router', '@app.behat.storage']
        tags:
         - { name: fob.context_service }

    app.feature_contexts.friends.managing:
        class: 'AppBundle\FeatureContexts\ManagingFriendshipsContext'
        arguments: ['@mink.default_session', '@__symfony__.router', '@app.behat.storage']
        tags:
            - { name: fob.context_service }
